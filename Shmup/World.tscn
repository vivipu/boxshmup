[gd_scene load_steps=24 format=2]

[ext_resource path="res://Player.gd" type="Script" id=1]
[ext_resource path="res://light.png" type="Texture" id=2]
[ext_resource path="res://Enemy.tscn" type="PackedScene" id=3]
[ext_resource path="res://Wall.tres" type="TileSet" id=4]
[ext_resource path="res://lightbox.png" type="Texture" id=5]
[ext_resource path="res://Goal.tscn" type="PackedScene" id=6]
[ext_resource path="res://BigEnemy.tscn" type="PackedScene" id=7]
[ext_resource path="res://World.gd" type="Script" id=8]
[ext_resource path="res://Score.gd" type="Script" id=9]
[ext_resource path="res://Roboto-Regular.ttf" type="DynamicFontData" id=10]
[ext_resource path="res://Wall.gd" type="Script" id=11]
[ext_resource path="res://Roboto.tres" type="DynamicFont" id=12]
[ext_resource path="res://GameOver.gd" type="Script" id=13]

[sub_resource type="RectangleShape2D" id=1]
extents = Vector2( 8, 8 )

[sub_resource type="RectangleShape2D" id=2]
extents = Vector2( 9, 9 )

[sub_resource type="DynamicFont" id=3]
size = 30
outline_size = 5
outline_color = Color( 0, 0, 0, 1 )
font_data = ExtResource( 10 )

[sub_resource type="Theme" id=4]
default_font = SubResource( 3 )

[sub_resource type="DynamicFontData" id=5]
font_path = "res://Roboto-Regular.ttf"

[sub_resource type="DynamicFont" id=6]
size = 12
font_data = SubResource( 5 )

[sub_resource type="DynamicFont" id=10]
size = 20
font_data = ExtResource( 10 )

[sub_resource type="StyleBoxFlat" id=8]
bg_color = Color( 0.329412, 0.603922, 0.823529, 1 )

[sub_resource type="StyleBoxFlat" id=9]
bg_color = Color( 0.329412, 0.603922, 0.823529, 1 )

[sub_resource type="StyleBoxFlat" id=7]
bg_color = Color( 0.329412, 0.603922, 0.823529, 1 )

[node name="World" type="Node2D"]
position = Vector2( 309.139, 158.436 )
script = ExtResource( 8 )

[node name="Player" type="KinematicBody2D" parent="."]
position = Vector2( -257.024, -103.314 )
script = ExtResource( 1 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player"]
shape = SubResource( 1 )

[node name="Sprite" type="Sprite" parent="Player"]
modulate = Color( 0.270588, 0.494118, 0.67451, 1 )
texture = ExtResource( 2 )

[node name="Area2D" type="Area2D" parent="Player"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player/Area2D"]
shape = SubResource( 2 )

[node name="Camera2D" type="Camera2D" parent="Player"]
current = true
zoom = Vector2( 0.6, 0.6 )
smoothing_enabled = true

[node name="Light2D" type="Light2D" parent="Player"]
light_mask = 3
texture = ExtResource( 5 )
texture_scale = 1.51
color = Color( 0.172549, 0.172549, 0.172549, 1 )
energy = 1.16
range_item_cull_mask = 3
shadow_enabled = true
shadow_color = Color( 0, 0, 0, 1 )
shadow_buffer_size = 2058
shadow_item_cull_mask = 3

[node name="BigEnemy" parent="." instance=ExtResource( 7 )]
position = Vector2( 529.861, 251.564 )

[node name="Enemy" parent="." instance=ExtResource( 3 )]
position = Vector2( 255.861, 62.564 )

[node name="Sprite" type="Sprite" parent="."]
modulate = Color( 0.929412, 0.890196, 0.894118, 1 )
show_behind_parent = true
position = Vector2( 215.861, 160.064 )
scale = Vector2( 63.125, 36.1875 )
texture = ExtResource( 2 )

[node name="Sprite2" type="Sprite" parent="Sprite"]
modulate = Color( 0.0392157, 0.0352941, 0.0313726, 1 )
show_behind_parent = true
position = Vector2( 1.44158, 0.373057 )
scale = Vector2( 1.43875, 1.35433 )
texture = ExtResource( 2 )

[node name="Wall" type="TileMap" parent="."]
tile_set = ExtResource( 4 )
cell_size = Vector2( 16, 16 )
collision_use_kinematic = true
collision_friction = 0.5
collision_bounce = 0.35
collision_layer = 7
collision_mask = 7
occluder_light_mask = 3
format = 1
tile_data = PoolIntArray( -524307, 1073741824, 0, -524306, 1073741824, 0, -524305, 1073741824, 0, -524304, 1073741824, 0, -524303, 1073741824, 0, -524302, 1073741824, 0, -524301, 1073741824, 0, -524300, 1073741824, 0, -524299, 1073741824, 0, -524298, 1073741824, 0, -524297, 1073741824, 0, -524296, 1073741824, 0, -524295, 1073741824, 0, -524294, 1073741824, 0, -524293, 1073741824, 0, -524292, 1073741824, 0, -524291, 1073741824, 0, -524290, 1073741824, 0, -524289, 1073741824, 0, -589824, 1073741824, 0, -589823, 1073741824, 0, -589822, 1073741824, 0, -589821, 1073741824, 0, -589820, 1073741824, 0, -589819, 1073741824, 0, -589818, 1073741824, 0, -589817, 1073741824, 0, -589816, 1073741824, 0, -589815, 1073741824, 0, -589814, 1073741824, 0, -589813, 1073741824, 0, -589812, 1073741824, 0, -589811, 1073741824, 0, -589810, 1073741824, 0, -589809, 1073741824, 0, -589808, 1073741824, 0, -589807, 1073741824, 0, -589806, 1073741824, 0, -589805, 1073741824, 0, -589804, 1073741824, 0, -589803, 1073741824, 0, -589802, 1073741824, 0, -589801, 1073741824, 0, -589800, 1073741824, 0, -589799, 1073741824, 0, -589798, 1073741824, 0, -589797, 1073741824, 0, -589796, 1073741824, 0, -589795, 1073741824, 0, -589794, 1073741824, 0, -589793, 1073741824, 0, -589792, 1073741824, 0, -589791, 1073741824, 0, -589790, 1073741824, 0, -589789, 1073741824, 0, -589788, 1073741824, 0, -589787, 1073741824, 0, -589786, 1073741824, 0, -589785, 0, 0, -589784, 0, 0, -589783, 0, 0, -589782, 0, 0, -589781, 0, 0, -589780, 0, 0, -589779, 0, 0, -458771, 1073741824, 0, -524243, 0, 0, -393235, 1073741824, 0, -458707, 0, 0, -327699, 1073741824, 0, -393171, 0, 0, -262163, 1073741824, 0, -327635, 0, 0, -196627, 1073741824, 0, -262099, 0, 0, -131091, 1073741824, 0, -196563, 0, 0, -65555, 1073741824, 0, -131027, 0, 0, -19, 1073741824, 0, -65491, 0, 0, 65517, 1073741824, 0, 45, 0, 0, 131053, 1073741824, 0, 65581, 0, 0, 196589, 1073741824, 0, 131117, 0, 0, 262125, 1073741824, 0, 196653, 0, 0, 327661, 1073741824, 0, 262189, 0, 0, 393197, 1073741824, 0, 327725, 0, 0, 458733, 1073741824, 0, 393261, 0, 0, 524269, 1073741824, 0, 458797, 0, 0, 589805, 1073741824, 0, 524333, 0, 0, 655341, 1073741824, 0, 589869, 0, 0, 720877, 1073741824, 0, 655405, 0, 0, 786413, 1073741824, 0, 720941, 0, 0, 851949, 1073741824, 0, 786477, 0, 0, 917485, 1073741824, 0, 852013, 0, 0, 983021, 1073741824, 0, 917549, 0, 0, 1048557, 1073741824, 0, 983085, 0, 0, 1114093, 1073741824, 0, 1048621, 0, 0, 1179629, 1073741824, 0, 1114157, 0, 0, 1245165, 1073741824, 0, 1179693, 0, 0, 1310701, 1073741824, 0, 1245229, 0, 0, 1376237, 1073741824, 0, 1310765, 0, 0, 1441773, 1073741824, 0, 1376301, 0, 0, 1507309, 1073741824, 0, 1441837, 0, 0, 1572845, 1073741824, 0, 1507373, 0, 0, 1638381, 1073741824, 0, 1572909, 0, 0, 1703917, 1073741824, 0, 1638445, 0, 0, 1769453, 1073741824, 0, 1703981, 0, 0, 1834989, 1073741824, 0, 1769517, 0, 0, 1900525, 0, 0, 1900526, 0, 0, 1900527, 0, 0, 1900528, 0, 0, 1900529, 0, 0, 1900530, 0, 0, 1900531, 0, 0, 1900532, 0, 0, 1900533, 0, 0, 1900534, 0, 0, 1900535, 0, 0, 1900536, 0, 0, 1900537, 0, 0, 1900538, 0, 0, 1900539, 0, 0, 1900540, 0, 0, 1900541, 0, 0, 1900542, 0, 0, 1900543, 0, 0, 1835008, 0, 0, 1835009, 0, 0, 1835010, 0, 0, 1835011, 0, 0, 1835012, 0, 0, 1835013, 0, 0, 1835014, 0, 0, 1835015, 0, 0, 1835016, 0, 0, 1835017, 0, 0, 1835018, 0, 0, 1835019, 0, 0, 1835020, 0, 0, 1835021, 0, 0, 1835022, 0, 0, 1835023, 0, 0, 1835024, 0, 0, 1835025, 0, 0, 1835026, 0, 0, 1835027, 0, 0, 1835028, 0, 0, 1835029, 0, 0, 1835030, 0, 0, 1835031, 0, 0, 1835032, 0, 0, 1835033, 0, 0, 1835034, 0, 0, 1835035, 0, 0, 1835036, 0, 0, 1835037, 0, 0, 1835038, 0, 0, 1835039, 0, 0, 1835040, 0, 0, 1835041, 0, 0, 1835042, 0, 0, 1835043, 0, 0, 1835044, 0, 0, 1835045, 0, 0, 1835046, 0, 0, 1835047, 0, 0, 1835048, 0, 0, 1835049, 0, 0, 1835050, 0, 0, 1835051, 0, 0, 1835052, 0, 0, 1835053, 0, 0 )
script = ExtResource( 11 )

[node name="Goal" parent="." instance=ExtResource( 6 )]
position = Vector2( 695.861, 424.564 )

[node name="EnemyTimer" type="Timer" parent="."]
wait_time = 0.35
autostart = true

[node name="BigEnemyTimer" type="Timer" parent="."]
autostart = true

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Score" type="Label" parent="CanvasLayer"]
margin_left = 948.0
margin_top = 3.0
margin_right = 1156.0
margin_bottom = 63.0
theme = SubResource( 4 )
text = "0000"
script = ExtResource( 9 )

[node name="GameOver" type="CanvasLayer" parent="CanvasLayer"]
pause_mode = 2
visible = false
script = ExtResource( 13 )

[node name="BG" type="ColorRect" parent="CanvasLayer/GameOver"]
margin_left = 395.0
margin_top = 211.0
margin_right = 435.0
margin_bottom = 251.0
rect_scale = Vector2( 5.68661, 4.72034 )
color = Color( 0.0588235, 0.0588235, 0.0588235, 0.835294 )

[node name="ScoreText" type="RichTextLabel" parent="CanvasLayer/GameOver"]
margin_left = 400.0
margin_top = 224.0
margin_right = 620.0
margin_bottom = 368.0
custom_fonts/normal_font = ExtResource( 12 )
text = "Game over! 

Your score was "
fit_content_height = true

[node name="Score" type="RichTextLabel" parent="CanvasLayer/GameOver"]
margin_left = 555.0
margin_top = 280.0
margin_right = 595.0
margin_bottom = 320.0
rect_scale = Vector2( 1.04318, 1.00561 )
custom_fonts/normal_font = ExtResource( 12 )
text = "0"

[node name="Text" type="RichTextLabel" parent="CanvasLayer/GameOver"]
margin_left = 402.0
margin_top = 333.0
margin_right = 602.0
margin_bottom = 373.0
custom_fonts/normal_font = SubResource( 6 )
text = "Enter your name for the leaderboard!"
scroll_active = false

[node name="PlayerName" type="TextEdit" parent="CanvasLayer/GameOver"]
margin_left = 401.0
margin_top = 351.0
margin_right = 571.0
margin_bottom = 391.0
custom_fonts/font = SubResource( 10 )

[node name="Enter" type="Button" parent="CanvasLayer/GameOver"]
margin_left = 574.0
margin_top = 351.0
margin_right = 614.0
margin_bottom = 391.0
custom_fonts/font = ExtResource( 12 )
custom_styles/hover = SubResource( 8 )
custom_styles/pressed = SubResource( 9 )
custom_styles/normal = SubResource( 7 )
text = "Go"

[connection signal="body_entered" from="Player/Area2D" to="Player" method="_on_Area2D_body_entered"]
[connection signal="timeout" from="EnemyTimer" to="." method="_on_EnemyTimer_timeout"]
[connection signal="timeout" from="BigEnemyTimer" to="." method="_on_BigEnemyTimer_timeout"]
[connection signal="pressed" from="CanvasLayer/GameOver/Enter" to="CanvasLayer/GameOver" method="_on_Enter_pressed"]
